<!-- home.html -->
<link rel="stylesheet" href="./css/home.css">
<style>
  .home_menu {
    padding: 0;
  }

  .home_menu ul {
    display: flex;
    gap: 20px;
  }

  .home_menu ul li {
    list-style: none;
  }

  .home_menu_li {
    padding: 10px 20px;
    margin-right: 10px;
    border: none;
    border-radius: 20px;
    background-color: #f1f1f1;
    color: #333;
    font-size: 16px;
    cursor: pointer;
    position: relative;
    transition: background-color 0.3s, color 0.3s;
  }

  .home_menu_li::before {
    content: '';
    display: none;
    margin-right: 8px;
  }

  .home_menu_li.active {
    background-color: #000;
    color: #fff;
  }

  .home_menu_li.active::before {
    display: inline-block;
    content: attr(data-icon);
  }

  .movie_sub_first_menu {
    display: flex;
    position: relative;
  }

  .movie_sub_first_menu_front {
    display: flex;
    gap: 20px;
    padding: 0;
    margin: 0;
  }

  .movie_sub_first_menu_back {
    display: flex;
    padding: 0;
    margin: 0;
    position: absolute;
    right: 0;
  }

  .movie_sub_first_menu_front li,
  .movie_sub_first_menu_back li {
    list-style: none;
  }

  .underline-middle {
    position: relative;
    display: inline-block;
    cursor: pointer;
  }

  .underline-middle::after {
    content: "";
    position: absolute;
    bottom: -2px;
    left: 50%;
    width: 0%;
    transform: translateX(-50%);
    border-bottom: 2px solid black;
    transition: width 1s ease;
  }

  .underline-middle.active::after {
    width: 100%;
  }

  .movie_grid{
    padding-top: 30px;
  }

  .movie_grid_main {
    display: flex;
    overflow: hidden;
    position: relative;
    width: 100%;
  }

  .movie_slider {
    display: flex;
    transition: transform 0.5s ease;
    gap: 20px;
  }

  .movie_card {
    flex: 0 0 200px;
    background-color: #f5f5f5;
    border-radius: 10px;
    padding: 10px;
    text-align: center;
  }

  .movie_card img {
    width: 100%;
    border-radius: 10px;
  }

  .movie_grid_next,
  .next_grid_prev {
    position: absolute;
    top: 40%;
    transform: translateY(-50%);
    background-color: rgba(0, 0, 0, 0.3);
    color: white;
    border-radius: 50%;
    width: 30px;
    height: 30px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
  }

  .movie_grid_next {
    right: 0;
  }

  .next_grid_prev {
    left: 0;
  }

  .movie_card p strong {
    font-size: 10px;
    margin: 0;
  }

  .movie_card p {
    font-size: 10px;
    margin: 0;
  }

  .movie_chart{
    background-color: #f5f5f5;

  }
</style>

<section class="home_page">
  <div class="home_menu">
    <ul>
      <li><div class="home_menu_li active" data-icon="ğŸ¬">ì˜í™”</div></li>
      <li><div class="home_menu_li" data-icon="ğŸ‰">ì´ë²¤íŠ¸/í˜œíƒ</div></li>
      <li><div class="home_menu_li" data-icon="ğŸƒâ€â™‚ï¸">ì—‘í‹°ë¹„í‹°</div></li>
    </ul>
  </div>

  <div class="movie_sub">
    <div class="movie_sub_first">
      <div class="movie_sub_first_menu">
        <ul class="movie_sub_first_menu_front">
          <li><div class="movie_sub_first_menu_front_li underline-middle active">ë¬´ë¹„ì°¨íŠ¸</div></li>
          <li><div class="movie_sub_first_menu_front_li underline-middle">í˜„ì¬ìƒì˜ì‘</div></li>
          <li><div class="movie_sub_first_menu_front_li underline-middle">ìƒì˜ì˜ˆì •</div></li>
          <li><div class="movie_sub_first_menu_front_li underline-middle">ICECON</div></li>
          <li><div class="movie_sub_first_menu_front_li underline-middle">ì•„íŠ¸í•˜ìš°ìŠ¤</div></li>
          <li><div class="movie_sub_first_menu_front_li underline-middle">CGV Only</div></li>
        </ul>

        <ul class="movie_sub_first_menu_back">
          <li><a href="#">ì „ì²´ë³´ê¸°
            <svg width="14" height="14" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M8 4.57812L16 12.5781L8 20.5781" stroke="#707070" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
          </a></li>
        </ul>
      </div>

      <div class="movie_chart">
        <!--ë¬´ë¹„ ê·¸ë¦¬ë“œ-->
        <div class="movie_grid">
          <div class="movie_grid_main"></div>
        </div>
<style>
  .search_wrap p{
    font-size: 20px;
    display: inline;
  }

  .search_wrap p a{
    color: black;
    text-decoration: none;
  }

  .search_wrap input{
    border: none;
    width: 470px;
    height: 50px;
  }
  .search_button{
    background-image: url("./images/home/ë‹ë³´ê¸°.png");
    background-size: cover;
    background-position: center;
    width: 50px;
    height: 50px;
  }
  .search_wrap_input{
    display: flex;
    border: 2px solid black;
    border-radius: 10px;
    padding: 0;
    margin: 0;
    width: 500px;
  }

  .short_cut{

  }

  .short_cut ul{
    padding: 0;
    display: flex;
    gap:20px
  }

  .short_cut li{
    list-style: none;
    border: 1px solid #ccc;
    border-radius: 120px;
    padding: 20px;
  }
  .short_cut li:nth-child(1) {
    background-color: yellow;
  }
  .short_cut li:nth-child(1)::before {
    content: "ğŸ¿";
    border-radius: 100%;
    background-color: white;
    padding: 10px;
    margin-right: 6px;
  }

  .short_cut li:nth-child(2) {
    background-color: pink;

  }

  .short_cut li:nth-child(3) {
    background-color: pink;
  }
  .short_cut li:nth-child(3)::before {
    content: "ğŸ";
    border-radius: 100%;
    background-color: white;
    padding: 10px;
    margin-right: 6px;
  }
.anything_search{
  width: 700px;
  background-color: #fff;
  border-radius: 10px;
  margin: 0 auto;
  padding: 30px;
}

.photo_banner {
  margin: 0 auto;
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: linear-gradient(to right, #fca3aa, #fdbbbb);
  padding: 10px;
  margin-top: 20px;
  border-radius: 15px;
  width: 760px;
  height: 150px;
  box-sizing: border-box;
}

.photo_text {
  display: flex;
  flex-direction: column;
  gap: 10px;
  width: 300px;
}

.photo_text .small_text {
  font-size: 14px;
  color: #333;
  margin: 0;
}

.photo_text .main_text {
  font-size: 18px;
  font-weight: bold;
  color: #000;
  margin: 0;
}

.photo_text button {
  width: 100px;
  height: 30px;
  border-radius: 20px;
  border: 1px solid #333;
  background-color: white;
  cursor: pointer;
  font-size: 13px;
}

.photo_banner img {
  height: 200px;
  width: 200px;
}

.liberation-card {
  background-color: #fff;
  border-radius: 15px;
  padding: 20px;
  
  max-width: 700px;
  margin: 30px auto 0 auto; /* ìœ„ìª½ 30px ë§ˆì§„ ì¶”ê°€ */
  font-family: sans-serif;
  box-shadow: 0 0 8px rgba(0, 0, 0, 0.05);
}

.liberation-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.liberation-title {
  font-weight: bold;
  font-size: 16px;
}

.liberation-title::before {
    content: "";
    display: inline-block;
    background-image: url("./images/home/ad_b.png");
    background-size: cover;
    background-position: center;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background-color: white;
    margin-right: 8px;
    vertical-align: middle;
  }

.liberation-badge {
  font-size: 12px;
  color: gray;
  border: 1px solid #ccc;
  padding: 2px 5px;
  border-radius: 4px;
}

.liberation-quote {
  font-size: 15px;
  margin: 10px 0;
}

.liberation-desc {
  font-size: 14px;
  color: #333;
  line-height: 1.6;
  margin-bottom: 15px;
}



.liberation-image img {
  width: 100%;
  border-radius: 10px;
}


.liberation-footer {
  display: flex;
  align-items: center;
  margin-top: 15px;
  padding-top: 15px;
  border-top: 1px solid #eee;
}

.footer-icon {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  margin-right: 10px;
}

.footer-text {
  flex: 1;
  font-size: 13px;
}

.footer-arrow {
  font-size: 20px;
  color: #aaa;
}


</style>
        <div class="anything_search">
          <div class="search_wrap">
            <p><a href="#"> ì°¾ê³ ê³„ì‹ ê°€ìš”? &#10095;</a></p>
            <div class="search_wrap_input">
              <input type="text" placeholder="ì°¾ìœ¼ì‹œëŠ” ì˜í™”, ì„œë¹„ìŠ¤ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.">
              <div class="search_button"></div>
            </div>
          </div>

          <div class="short_cut">
            <ul>
              <li>íŒì½˜ì£¼ë¬¸</li>
              <li>vipë¼ìš´ì§€</li>
              <li>ê²½í’ˆì´ë²¤íŠ¸</li>
            </ul>
          </div>
        </div>
        <!--í¬í† ì¹´ë“œ ad-->
        <div class="photo_banner">
          <div class="photo_text">
            <p class="small_text">ì´ì œ ëˆ„êµ¬ë‚˜! ì˜í™”ë¥¼ ì•ˆë´ë„</p>
            <p class="main_text">í¬í† í”Œë ˆì´ ì¶œë ¥ ê°€ëŠ¥!</p>
            <button>ë°”ë¡œê°€ê¸°</button>
          </div>
          <img src="./images/home/character.png" alt="í¬í† í”Œë ˆì´ ìºë¦­í„°">
        </div>
        <!--ë¹™ê·¸ë˜ ad-->
        <div class="liberation-card">
          <div class="liberation-header">
            <p class="liberation-title">ì²˜ìŒ ë“£ëŠ” ê´‘ë³µ</p>
            <span class="liberation-badge">AD</span>
          </div>

          <p class="liberation-quote">â€œê·¸ í•¨ì„±ì†Œë¦¬ê°€ ì²œë‘¥ë²ˆê°œ ì¹˜ëŠ” ì†Œë¦¬ë³´ë‹¤ ë” í–ˆëŒ€ìš”â€</p>

          <p class="liberation-desc">
            ëˆˆìœ¼ë¡œë§Œ ê¸°ì–µí•˜ë˜ 80ë…„ ì „ ê´‘ë³µì˜ ë‚ .<br>
            ë¹™ê·¸ë ˆê°€ ê´‘ë³µ ë‹¹ì‹œì˜ ì—­ì‚¬ ìë£Œì™€ ì¦ì–¸ì„ í† ëŒ€ë¡œ<br>
            ê·¸ë‚ ì˜ ì†Œë¦¬ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.<br><br>
            ë…ë¦½ìš´ë™ê°€ë“¤ì´ ê·¸í† ë¡ ë“£ê³  ì‹¶ì–´í–ˆë˜ â€œëŒ€í•œë…ë¦½ë§Œì„¸â€,<br>
            CGVì—ì„œ ë‹¤ì‹œ ìš¸ë¦½ë‹ˆë‹¤.
          </p>

          <div class="liberation-image">
            <img src="./images/home/ad_L.png" alt="ì²˜ìŒ ë“£ëŠ” ê´‘ë³µ í¬ìŠ¤í„°">
          </div>

          <div class="liberation-footer">
            <img class="footer-icon" src="./images/home/ad_S.png" alt="ì˜ˆë§¤í•˜ëŸ¬ê°€ê¸°">
            <div class="footer-text">
              <strong>ì˜ˆë§¤í•˜ëŸ¬ ê°€ê¸°</strong><br>
              ê°€ì¥ ê°€ê¹Œìš´ ìƒì˜ê´€ì„ ì°¾ì•„ë³´ì„¸ìš”
            </div>
            <div class="footer-arrow">â¯</div>
          </div>
        </div>

        <!--ICECON-->








      </div>
    </div>
  </div>

  <div class="event">
    <p>ì´ë²¤íŠ¸/í˜œíƒ</p>
  </div>

  <div class="activity">
    <p>activity</p>
  </div>
</section>

<script src="./js/home.js"></script>
<script>
  const movie_list = [
    {
      "type": "ad",
      "title": "CGV ê´€ëŒê¶Œ ì¿ í° ë°›ì!",
      "subTitle": "ê²°ì œë‚´ì—­ í™•ì¸í•˜ê³ ",
      "description": "CGV ê´€ëŒê¶Œ ë°›ê¸°",
      "buttonText": "ìì„¸íˆ ë³´ê¸°",
      "image": "main_ad.webp"
    },
    {
      "type": "movie",
      "rank": 1,
      "title": "ê·¹ì¥íŒ ê·€ë©¸ì˜ ì¹¼ë‚ : ë¬´í•œì„±í¸",
      "grade": "15",
      "reservationRate": "29.2%",
      "releaseDate": "2025.08.22",
      "buttonText": "ì˜ˆë§¤í•˜ê¸°",
      "image": "ê·€ë©¸ì˜ ì¹¼ë‚ .jpg"
    },
    {
      "type": "movie",
      "rank": 2,
      "title": "ì¢€ë¹„ë”¸",
      "grade": "12",
      "score": "92%",
      "reservationRate": "18.9%",
      "totalAudience": "222.3ë§Œ",
      "buttonText": "ì˜ˆë§¤í•˜ê¸°",
      "image": "ì¢€ë¹„ë”¸.jpg"
    },
    {
      "type": "ad",
      "title": "ì£½ì€ ìë¥¼ ë¶€ë¥´ëŠ” ê°•ë ¹ìˆ²",
      "subTitle": "ìš¸ì—¬ë¦„ í•¨ê»˜í•˜ì§€ ì•Šì„ë˜?",
      "releaseDate": "2025.08.06",
      "buttonText": "ìì„¸íˆ ë³´ê¸°",
      "image": "ê°•ë ¹.webp"
    },
    {
      "type": "movie",
      "rank": 3,
      "title": "F1 ë” ë¬´ë¹„",
      "grade": "12",
      "score": "99%",
      "reservationRate": "11.6%",
      "totalAudience": "322ë§Œ",
      "buttonText": "ì˜ˆë§¤í•˜ê¸°",
      "image": "F1.jpg"
    },
    {
      "type": "concert",
      "title": "ìš”ë£¨ì‹œì¹´ ë¼ì´ë¸Œ 2024 [ì „ìƒ]",
      "ICECON": true,
      "grade": "ì „ì²´ê´€ëŒê°€",
      "date": "2025.09.10",
      "venue": "ì˜¬ë¦¼í”½ ì²´ì¡°ê²½ê¸°ì¥",
      "buttonText": "ì˜ˆë§¤í•˜ê¸°",
      "image": "ìš”ë£¨ì‹œì¹´.jpg"
    },
    {
    "type": "concert",
    "title": "[ì”¨ë„¤ë®¤ì§€ì—„] ì˜¤ë¥´ì„¸ ë¯¸ìˆ ê´€",
    "ICECON": true,
    "grade": "ì „ì²´ê´€ëŒê°€",
    "date": "2025.09.01",
    "venue": "CGV ì•„íŠ¸í•˜ìš°ìŠ¤",
    "buttonText": "ìƒì„¸ë³´ê¸°",
    "image": "ì˜¤ë¥´ì„¸.jpg"
  },
  {
    "type": "concert",
    "title": "[ì”¨ë„¤ë®¤ì§€ì—„] ë‚˜ëŠ” ì´ë ‡ê²Œ ê¸°ì–µë˜ê³  ì‹¶ë‹¤, ë ˜ë¸Œë€íŠ¸",
    "ICECON": true,
    "grade": "15",
    "date": "2025.09.01",
    "venue": "CGV ICECONê´€",
    "buttonText": "ìƒì„¸ë³´ê¸°",
    "image": "ë ˜ë¸Œë€íŠ¸.jpg"
  },
  {
    "type": "concert",
    "title": "ë®¤ì§€ì»¬ ë¼íŒŒì¹˜ë‹ˆì˜ ì •ì›",
    "ICECON": true,
    "grade": "12",
    "date": "2025.09.01",
    "venue": "CGV ë®¤ì§€ì»¬ê´€",
    "buttonText": "ìƒì„¸ë³´ê¸°",
    "image": "ë¼íŒŒì¹˜ë‹ˆ.jpg"
  }
  ];

  let currentSlide = 0;
  const cardsPerView = 1;

  const tabs = document.querySelectorAll('.home_menu_li');
  const movieSection = document.querySelector('.movie_sub');
  const eventSection = document.querySelector('.event');
  const activitySection = document.querySelector('.activity');

  tabs.forEach((tab, index) => {
    tab.addEventListener('click', () => {
      tabs.forEach(t => t.classList.remove('active'));
      tab.classList.add('active');

      movieSection.style.display = 'none';
      eventSection.style.display = 'none';
      activitySection.style.display = 'none';

      if (index === 0) movieSection.style.display = 'block';
      if (index === 1) eventSection.style.display = 'block';
      if (index === 2) activitySection.style.display = 'block';
    });
  });

  movieSection.style.display = 'block';
  eventSection.style.display = 'none';
  activitySection.style.display = 'none';

  const movie_sub_first_menu_front_li = document.querySelectorAll('.movie_sub_first_menu_front_li');
  movie_sub_first_menu_front_li.forEach((element, index) => {
    element.addEventListener('click', () => {
      movie_sub_first_menu_front_li.forEach(t => t.classList.remove('active'));
      element.classList.add('active');

      if (index === 0) mainMovieChart();
      if (index === 1) test();
    });
  });

  function mainMovieChart() {
    currentSlide = 0;
    const movieGridMain = document.querySelector('.movie_grid_main');
    movieGridMain.innerHTML = `
      <div class="next_grid_prev">&#10094;</div>
      <div class="movie_slider"></div>
      <div class="movie_grid_next">&#10095;</div>
    `;

    const movieSlider = movieGridMain.querySelector('.movie_slider');

    movie_list.forEach(movie => {
      const card = document.createElement('div');
      card.className = 'movie_card';

      if (movie.type === "movie") {
        card.innerHTML = `
          <img src="./images/home/${movie.image}" alt="${movie.title}">
          <p><strong>${movie.rank}. ${movie.title}</strong></p>
          <p>ì˜ˆë§¤ìœ¨: ${movie.reservationRate}</p>
          <p>ê´€ëŒë“±ê¸‰: ${movie.grade}</p>
          <button>${movie.buttonText}</button>
        `;
      } else if (movie.type === "ad") {
        card.innerHTML = `
          <img src="./images/home/${movie.image}" alt="${movie.title}">
          <p><strong>${movie.title}</strong></p>
          <p>${movie.subTitle ?? ""}</p>
          <p>${movie.description ?? ""}</p>
          <button>${movie.buttonText}</button>
        `;
      } else if (movie.type === "concert") {
        card.innerHTML = `
          <img src="./images/home/${movie.image}" alt="${movie.title}">
          <p><strong>${movie.title}</strong></p>
          <p>ë‚ ì§œ: ${movie.date}</p>
          <p>ì¥ì†Œ: ${movie.venue}</p>
          <button>${movie.buttonText}</button>
        `;
      }

      movieSlider.appendChild(card);
    });

    const prevBtn = movieGridMain.querySelector('.next_grid_prev');
    const nextBtn = movieGridMain.querySelector('.movie_grid_next');

    prevBtn.addEventListener('click', () => {
      if (currentSlide > 0) {
        currentSlide--;
        updateSlider(movieSlider);
      }
    });

    nextBtn.addEventListener('click', () => {
      const maxSlide = movie_list.length - 3;
      if (currentSlide < maxSlide) {
        currentSlide++;
        updateSlider(movieSlider);
      }
    });

    updateSlider(movieSlider);
  }

  function test() {
    const movieGridMain = document.querySelector('.movie_grid_main');
    movieGridMain.innerHTML = '';

    const placeholder = document.createElement('div');
    placeholder.textContent = "í˜„ì¬ìƒì˜ì‘ ì½˜í…ì¸  ì¤€ë¹„ ì¤‘...";
    placeholder.style.padding = '20px';
    placeholder.style.fontSize = '16px';

    movieGridMain.appendChild(placeholder);
  }

  function updateSlider(slider) {
    const slideWidth = 220;
    slider.style.transform = `translateX(-${currentSlide * slideWidth}px)`;
  }

  mainMovieChart();
</script>
